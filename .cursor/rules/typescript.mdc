---
globs: *.ts,*.tsx
alwaysApply: true
---

- NEVER use non-null assertions (`!`). This is forbidden. Always use proper type guards or optional chaining instead.
- Avoid casting types unless necessary. If you do cast, you must add a comment explaining why.
- Avoid `any` and NEVER use `as any`.
- Avoid redefining types and interfaces in every file, if possible, use an existing type or interface.
- Avoid making component props and object properties optional unless necessary.
- We use kebab case for filenames.
- We use non-default exports whenever possible.
- NEVER add comments for sections of JSX like `{/* Header */}<Header />`
- Objects, interfaces, types, and other sortable structures are automatically sorted by the perfectionist ESLint plugin
- Do not fix "Expected {thing} to come before {thing}" errors from perfectionist, they will be fixed automatically after your work is done.
- Prefer objects for functions with many parameters.
- Don't run `tsc` to check for type errors, use your built-in diagnostics tool.
- `"lib": ["es2023", "DOM", "DOM.Iterable"]` is set, so you can use modern features.
- The `radashi` import is installed. Use it for common lodash-style functions.
- Prefer inline type declarations when they are short and not exported.
- Prefer object types for functions with identical parameters, e.g. `({ a, b }: { a: number, b: number }) => number` instead of `(a: number, b: number) => number`.
- Array#reduce() usually results in hard-to-read and less performant code. Instead, prefer .map, .filter, or a for-of loop.
- Don't define return types unless necessary.
- Use the `cn` helper from `@/client/lib/utils` instead of `className={`class ${class2}`}`.

## Tailwind Rules

- Use `size-` over `w-` and `h-` when width and height are the same.
- Use `gap-x-` or `gap-y-` over `space-x` or `space-y` for gap.

## Zod Rules

- Prefer `z.output` over `z.infer` for type inference.
